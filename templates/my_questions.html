
{% extends "base.html" %}

{% block title %}Meray Sawalat - Dalil Docs{% endblock %}

{% block content %}
<h1 style="color: var(--primary); margin: 30px 0; text-align: center;">ğŸ“‹ Meray Sawalat</h1>
<p style="text-align: center; color: #666; margin-bottom: 25px; font-size: 18px; font-weight: bold;">{{ user_name }}</p>

<div style="text-align: center; margin-bottom: 30px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
    <a href="{{ url_for('ask_us') }}" class="btn btn-primary">â¬…ï¸ Naya Sawal</a>
    <a href="{{ url_for('home') }}" class="btn btn-accent">ğŸ  Home</a>
</div>

{% if questions %}
    {% for q in questions %}
        <div class="card" style="border-left: 4px solid {% if q.status == 'answered' %}#4caf50{% else %}#ff9800{% endif %};">
            <div style="margin-bottom: 15px;">
                <h3 style="color: var(--primary); line-height: 1.6; margin-bottom: 10px;">â“ {{ q.question }}</h3>
                <p style="color: #999; font-size: 13px;">
                    ğŸ“… {{ q.created_at.strftime('%d-%m-%Y') }} | ğŸ• {{ q.created_at.strftime('%I:%M %p') }}
                </p>
            </div>

            {% if q.status == 'answered' %}
                <div style="background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%); padding: 20px; border-radius: 12px; margin-top: 15px; border: 2px solid #4caf50;">
                    <h4 style="color: #155724; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 24px;">âœ…</span> Jawab
                    </h4>
                    {% if q.reply_message %}
                        <p style="color: #155724; line-height: 1.8; margin-bottom: 15px; font-size: 15px;">{{ q.reply_message }}</p>
                    {% endif %}
                    {% if q.reply_reference %}
                        <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 15px; border-left: 4px solid #4caf50;">
                            <strong style="color: var(--primary); display: block; margin-bottom: 8px;">ğŸ“– Hawala:</strong>
                            <p style="white-space: pre-wrap; color: #333; line-height: 1.8;">{{ q.reply_reference }}</p>
                        </div>
                    {% endif %}
                    <p style="color: #666; margin-top: 15px; font-size: 13px; text-align: right;">
                        âœ“ {{ q.replied_at.strftime('%d-%m-%Y %I:%M %p') }}
                    </p>
                </div>
            {% else %}
                <div style="background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%); padding: 20px; border-radius: 12px; margin-top: 15px; border: 2px solid #ff9800; text-align: center;">
                    <p style="color: #856404; font-size: 16px; font-weight: bold;">â³ Jawab ka intezar hai...</p>
                    <p style="color: #856404; font-size: 13px; margin-top: 5px;">Jald hi jawab milega InShaAllah</p>
                </div>
            {% endif %}
        </div>
    {% endfor %}
{% else %}
    <div class="card" style="text-align: center; padding: 40px;">
        <p style="font-size: 24px; margin-bottom: 10px;">ğŸ“­</p>
        <p style="font-size: 18px; color: #666;">Abhi tak koi sawal nahi bheja</p>
        <a href="{{ url_for('ask_us') }}" class="btn btn-primary" style="margin-top: 20px; display: inline-block;">
            Pehla Sawal Bhaijain
        </a>
    </div>
{% endif %}
{% endblock %}
